<!DOCTYPE html>
<html lang="en">
  <head>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Meta -->
    <meta name="description" content="">
    <meta name="author" content="ThemePixels">

    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="../assets/img/favicon.png">

    <title>Dwell</title>

    <!-- Vendor CSS -->
    <link href="../lib/remixicon/fonts/remixicon.css" rel="stylesheet">
    <link href="../lib/line-awesome/css/line-awesome.min.css" rel="stylesheet">
    <link href="../lib/quill/quill.core.css" rel="stylesheet">
    <link href="../lib/quill/quill.snow.css" rel="stylesheet">

    <!-- Template CSS -->
    <link rel="stylesheet" href="../assets/css/core.min.css">
    <link rel="stylesheet" href="../assets/css/main.min.css">
  </head>
  <body>

    <div class="content">
      <div class="container-fluid">
        <div class="content-header align-items-center mg-b-30">
          <div class="mg-r-auto">
            <h4 class="content-title mg-b-0">Property Settings</h4>
          </div>
        </div><!-- content-header -->
        <div class="content-body content-body-settings">
          <div class="settings-sidebar">
            <label class="content-label">General Settings</label>
            <nav class="nav">
              <a href="settings.html" class="nav-link"><i class="ri-shield-user-line"></i> Assignment Rules</a>
              <a href="settings-email.html" class="nav-link active"><i class="ri-mail-line"></i> Email templates</a>
              <a href="settings-calendar.html" class="nav-link"><i class="ri-calendar-todo-line"></i> Email &amp; Calendar sync</a>
              <a href="settings-business.html" class="nav-link"><i class="ri-time-line"></i> Business hours</a>
              <a href="../settings/community-features.html" class="nav-link"><i class="ri-community-line"></i> Community features</a>
            </nav>

            <hr class="mg-y-15 op-0">

            <label class="content-label">Report Settings</label>
            <nav class="nav">
              <a href="settings-competitors.html" class="nav-link"><i class="ri-group-line"></i> Competitors</a>
              <a href="settings-paid-sources.html" class="nav-link"><i class="ri-wallet-3-line"></i> Paid sources</a>
              <a href="settings-budget.html" class="nav-link"><i class="ri-bank-card-2-line"></i> Paid source budgets</a>
            </nav>

            <hr class="mg-y-15 op-0">

            <label class="content-label">Leasing</label>
            <nav class="nav">
              <a href="settings-lease.html" class="nav-link"><i class="ri-community-line"></i> Lease Defaults</a>
              <a href="settings-policies.html" class="nav-link"><i class="ri-article-line"></i> Property Policies</a>
              <a href="settings-rentable.html" class="nav-link"><i class="ri-handbag-line"></i> Rentable Items</a>
              <a href="settings-screening.html" class="nav-link"><i class="ri-survey-line"></i> Screening Criteria</a>
              <a href="settings-addenda.html" class="nav-link"><i class="ri-file-list-3-line"></i> Addenda</a>
              <a href="../settings/pricing-duration.html" class="nav-link"><i class="ri-community-line"></i> Duration Pricing</a>
            </nav>

            <hr class="mg-y-15 op-0">

            <label class="content-label">Communication</label>
            <nav class="nav">
              <a href="settings-call-block.html" class="nav-link"><i class="ri-lock-line"></i> Call Block List</a>
            </nav>

            <hr class="mg-y-15 op-0">

            <label class="content-label">IVR Settings</label>
            <nav class="nav">
              <a href="../settings/vendors-list.html" class="nav-link"><i class="ri-contacts-line"></i> Vendors List</a>
              <a href="../settings/default-assignees.html" class="nav-link"><i class="ri-user-star-line"></i> Default Assignees</a>
              <a href="../settings/oncall-schedule.html" class="nav-link"><i class="ri-calendar-event-line"></i> On-Call Schedule</a>
              <a href="../settings/leasing-prompt.html" class="nav-link"><i class="ri-user-voice-line"></i> Leasing Prompt</a>
            </nav>
          </div><!-- settings-sidebar -->
          <div class="settings-body">
            <h5 class="content-title-sm">Manage Email Templates</h5>
            <p class="content-text">Use email templates to save time and quickly manage lead communication.</p>

            <hr class="op-0">

            <div class="form-group form-group-bar">
              <label class="form-label">Test Template A</label>
              <nav class="nav nav-icon mg-l-auto">
                <a href="#modalEditTemplate" data-toggle="modal"><span data-toggle="tooltip" data-title="Edit template"><i class="ri-pencil-line"></i></span></a>
                <a href="#modalConfirmDelete" data-toggle="modal"><span data-toggle="tooltip" data-title="Delete template"><i class="ri-delete-bin-5-line"></i></span></a>
              </nav>
            </div><!-- form-group -->
            <div class="form-group form-group-bar">
              <label class="form-label">Facetime remind email</label>
              <nav class="nav nav-icon mg-l-auto">
                <a href="#modalEditTemplate" data-toggle="modal"><span data-toggle="tooltip" data-title="Edit template"><i class="ri-pencil-line"></i></span></a>
                <a href="#modalConfirmDelete" data-toggle="modal"><span data-toggle="tooltip" data-title="Delete template"><i class="ri-delete-bin-5-line"></i></span></a>
              </nav>
            </div><!-- form-group -->
            <div class="form-group form-group-bar">
              <label class="form-label">Self guided remind email</label>
              <nav class="nav nav-icon mg-l-auto">
                <a href="#modalEditTemplate" data-toggle="modal"><span data-toggle="tooltip" data-title="Edit template"><i class="ri-pencil-line"></i></span></a>
                <a href="#modalConfirmDelete" data-toggle="modal"><span data-toggle="tooltip" data-title="Delete template"><i class="ri-delete-bin-5-line"></i></span></a>
              </nav>
            </div><!-- form-group -->
            <div class="form-group form-group-bar">
              <label class="form-label">Guided virtual tour remind email</label>
              <nav class="nav nav-icon mg-l-auto">
                <a href="#modalEditTemplate" data-toggle="modal"><span data-toggle="tooltip" data-title="Edit template"><i class="ri-pencil-line"></i></span></a>
                <a href="#modalConfirmDelete" data-toggle="modal"><span data-toggle="tooltip" data-title="Delete template"><i class="ri-delete-bin-5-line"></i></span></a>
              </nav>
            </div><!-- form-group -->
            <div class="form-group form-group-bar">
              <label class="form-label">Confirmation of tour date</label>
              <nav class="nav nav-icon mg-l-auto">
                <a href="#modalEditTemplate" data-toggle="modal"><span data-toggle="tooltip" data-title="Edit template"><i class="ri-pencil-line"></i></span></a>
                <a href="#modalConfirmDelete" data-toggle="modal"><span data-toggle="tooltip" data-title="Delete template"><i class="ri-delete-bin-5-line"></i></span></a>
              </nav>
            </div><!-- form-group -->
            <div class="form-group form-group-bar">
              <label class="form-label">In person remind email</label>
              <nav class="nav nav-icon mg-l-auto">
                <a href="#modalEditTemplate" data-toggle="modal"><span data-toggle="tooltip" data-title="Edit template"><i class="ri-pencil-line"></i></span></a>
                <a href="#modalConfirmDelete" data-toggle="modal"><span data-toggle="tooltip" data-title="Delete template"><i class="ri-delete-bin-5-line"></i></span></a>
              </nav>
            </div><!-- form-group -->
            <div class="settings-footer">
              <button type="button" class="btn btn-white btn-with-icon" data-toggle="modal" data-target="#modalNewTemplate"><i class="ri-add-circle-fill"></i> Add Email Template</button>
            </div><!-- settings-footer -->
          </div><!-- settings-body -->
        </div><!-- content-body -->
      </div><!-- container -->
    </div><!-- content -->

    <div class="modal modal-compose-mail fade" id="modalNewTemplate" data-backdrop="static" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <div>
              <h5 class="modal-title">Add Email Template</h5>
            </div>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><i class="ri-close-line"></i></button>
          </div>
          <div class="modal-body">
            <div class="form-group">
              <input type="text" class="form-control" placeholder="Template title">
            </div><!-- form-group -->
            <div class="form-group">
              <input type="text" class="form-control" placeholder="Subject">
            </div><!-- form-group -->
            <div class="form-group form-group-block">
              <div id="mailToolbar">
                <span class="ql-formats">
                  <select class="ql-font"></select>
                  <select class="ql-size"></select>
                </span>
                <span class="ql-formats">
                  <button class="ql-bold"></button>
                  <button class="ql-italic"></button>
                  <button class="ql-underline"></button>
                </span>
                <span class="ql-formats">
                  <select class="ql-color"></select>
                  <select class="ql-background"></select>
                </span>
                <span class="ql-formats">
                  <button class="ql-list" value="ordered"></button>
                  <button class="ql-list" value="bullet"></button>
                </span>
                <span class="ql-formats">
                  <button class="ql-link"></button>
                  <button class="ql-image"></button>
                </span>
                <span class="ql-formats">
                  <select class="ql-pholder">
                    <option value="[=Lead full name=]">Lead full name</option>
                    <option value="[=Lead first name=]">Lead first name</option>
                    <option value="[=Lead last name=]">Lead last name</option>
                  </select>
                </span>
              </div><!-- #mailToolbar -->
              <div id="mailEditor"></div>
            </div><!-- form-group -->
          </div><!-- modal-body -->
          <div class="modal-footer">
            <button type="button" class="btn btn-white" data-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-primary">Add template</button>
          </div>
        </div><!-- modal-content -->
      </div><!-- modal-dialog -->
    </div><!-- modal -->

    <div class="modal modal-compose-mail fade" id="modalEditTemplate" data-backdrop="static" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <div>
              <h5 class="modal-title">Edit Email Template</h5>
            </div>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><i class="ri-close-line"></i></button>
          </div>
          <div class="modal-body">
            <div class="form-group">
              <input type="text" class="form-control" placeholder="Template title" value="Facetime Remind Email">
            </div><!-- form-group -->
            <div class="form-group">
              <input type="text" class="form-control" placeholder="Subject" value="So excited to see you tomorrow!">
            </div><!-- form-group -->
            <div class="form-group form-group-block">
              <div id="mailToolbar2">
                <span class="ql-formats">
                  <select class="ql-font"></select>
                  <select class="ql-size"></select>
                </span>
                <span class="ql-formats">
                  <button class="ql-bold"></button>
                  <button class="ql-italic"></button>
                  <button class="ql-underline"></button>
                </span>
                <span class="ql-formats">
                  <select class="ql-color"></select>
                  <select class="ql-background"></select>
                </span>
                <span class="ql-formats">
                  <button class="ql-list" value="ordered"></button>
                  <button class="ql-list" value="bullet"></button>
                </span>
                <span class="ql-formats">
                  <button class="ql-link"></button>
                  <button class="ql-image"></button>
                </span>
                <span class="ql-formats">
                  <select class="ql-pholder2">
                    <option value="[=Lead full name=]">Lead full name</option>
                    <option value="[=Lead first name=]">Lead first name</option>
                    <option value="[=Lead last name=]">Lead last name</option>
                  </select>
                </span>
              </div><!-- #mailToolbar -->
              <div id="mailEditor2">
                <p>Dear [Firstname],</p><br/>
                <p>Your spot is confirmed for tomorrow’s tour of [Property Name]!</p><br/>
                <p>I’m looking forward to seeing you.  Just come to the main office, located at [=Property address=] , and I’ll meet you there. I plan to take you through some of the units as well as the many amenities we have to offer. That way you can see for yourself why our residents at [Property name] love this community. I’m here for you, so be ready with any questions you may have about the application process, move in, or any of the particulars you’ll need once you’ve settled in.</p>
                <br/>
                <p>See you tomorrow!</p><br/>
                <p>Cheers,</p>
                <p>[Property address]</p>
                <p>[Property website]</p>
              </div><!-- #mailEditor -->
            </div><!-- form-group -->
          </div><!-- modal-body -->
          <div class="modal-footer">
            <button type="button" class="btn btn-white" data-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-primary">Save changes</button>
          </div>
        </div><!-- modal-content -->
      </div><!-- modal-dialog -->
    </div><!-- modal -->

    <div class="modal modal-confirmation" id="modalConfirmDelete" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-body">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><i class="ri-close-line"></i></button>

            <h5 class="modal-title" id="leaveModalLabel">Confirm Delete</h5>
            <p class="modal-text">You are about to delete this template <strong>Test Template A</strong>.</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-white" data-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-danger" data-dismiss="modal">Continue delete</button>
          </div>
        </div>
      </div>
    </div>

    <script src="../lib/jquery/jquery.min.js"></script>
    <script src="../lib/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="../lib/feather-icons/feather.min.js"></script>
    <script src="../lib/perfect-scrollbar/perfect-scrollbar.min.js"></script>
    <script src="../lib/quill/quill.min.js"></script>

    <script src="../assets/js/script.js"></script>
    <script>
      $(document).ready(function() {
        'use strict'

        $('.nav-icon span').tooltip();

        var quill1 = new Quill('#mailEditor', {
          modules: {
            toolbar: {
              container: '#mailToolbar',
              handlers: {
                'pholder': function(value) {
                  if(value) {
                    const cursorPosition = this.quill.getSelection().index;
                    this.quill.insertText(cursorPosition, value);
                    this.quill.setSelection(cursorPosition + value.length);
                  }
                }
              }
            }
          },
          placeholder: 'Write some message...',
          theme: 'snow'
        });

        var quill2 = new Quill('#mailEditor2', {
          modules: {
            toolbar: {
              container: '#mailToolbar2',
              handlers: {
                'pholder2': function(value) {
                  if(value) {
                    const cursorPosition = this.quill.getSelection().index;
                    this.quill.insertText(cursorPosition, value);
                    this.quill.setSelection(cursorPosition + value.length);
                  }
                }
              }
            }
          },
          placeholder: 'Write some message...',
          theme: 'snow'
        });

        // We need to manually supply the HTML content of our custom dropdown list
        const pHolderItems = Array.prototype.slice.call(document.querySelectorAll('.ql-pholder .ql-picker-item'));
        pHolderItems.forEach(item => item.textContent = item.dataset.label);
        document.querySelector('.ql-pholder .ql-picker-label').innerHTML = 'Insert placeholder' + document.querySelector('.ql-pholder .ql-picker-label').innerHTML;

        const pHolderItems2 = Array.prototype.slice.call(document.querySelectorAll('.ql-pholder2 .ql-picker-item'));
        pHolderItems2.forEach(item => item.textContent = item.dataset.label);
        document.querySelector('.ql-pholder2 .ql-picker-label').innerHTML = 'Insert placeholder' + document.querySelector('.ql-pholder2 .ql-picker-label').innerHTML;


        // For displaying modal directly from url
        // For demo use only
        $.urlParam = function(name){
        	var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
        	return results[1] || 0;
        }

        if($.urlParam('modal')) {
          if($.urlParam('modal') === 'addtemplate') {
            $('#modalNewTemplate').modal('show');
          }
        }

      });
    </script>
  </body>
</html>
